<!-- 

Note: bread, theater and iron tower are needs that will be removed by some mods.
There are 3 ways to deal with that:
1. Either every mod includes the same snippet to deactivate/limit an agreed list of needs.
2. One common mod loaded first to limit all needs to vanilla and every mod needs to add their own needs from scratch.
   Might be interesting to check if RequiredToBeBuilding works with pools, so that we can have OW hotels, NW hotels, ...
   Also, this would be a cool base for any other mod compatibility wizardry like shared construction menus.
3. One common post-fix mod to adjust needs considering all relevant mods

This fix is 3. because Train Stations is currently simply overwriting needs.

-->

<ModOps>
  <!-- # Revert: Tourist population to vanilla -->
  <ModOp Type="replace" GUID='601445' Path="/Values/Residence7">
    <Residence7>
      <PopulationLevel7>601379</PopulationLevel7>
      <ResidentMax>500</ResidentMax>
      <ResidentsOccupancyThresholdMax>0.15</ResidentsOccupancyThresholdMax>
      <MoveInMs>900</MoveInMs>
      <MoveOutMs>1000</MoveOutMs>
      <MoveRandomMs>200</MoveRandomMs>
    </Residence7>
  </ModOp>
  <ModOp Type="replace" GUID='601379' Path="/Values/PopulationLevel7/PopulationInputs">
    <PopulationInputs>
      <Item>
        <Product>133891</Product>
        <SupplyWeight>45</SupplyWeight>
      </Item>
      <Item>
        <Product>1010213</Product>
        <Amount>0.008333333</Amount>
        <SupplyWeight>55</SupplyWeight>
        <MoneyValue>55</MoneyValue>
        <FullWeightPopulationCount>30</FullWeightPopulationCount>
        <NoWeightPopulationCount>29</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>133573</Product>
        <SupplyWeight>25</SupplyWeight>
        <MoneyValue>45</MoneyValue>
        <FullWeightPopulationCount>50</FullWeightPopulationCount>
        <NoWeightPopulationCount>49</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>132751</Product>
        <SupplyWeight>25</SupplyWeight>
        <MoneyValue>60</MoneyValue>
        <FullWeightPopulationCount>250</FullWeightPopulationCount>
        <NoWeightPopulationCount>249</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>133183</Product>
        <Amount>0.01666667</Amount>
        <SupplyWeight>35</SupplyWeight>
        <MoneyValue>54</MoneyValue>
        <FullWeightPopulationCount>300</FullWeightPopulationCount>
        <NoWeightPopulationCount>299</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>132755</Product>
        <SupplyWeight>55</SupplyWeight>
        <MoneyValue>60</MoneyValue>
        <FullWeightPopulationCount>550</FullWeightPopulationCount>
        <NoWeightPopulationCount>549</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>133181</Product>
        <Amount>0.008333333</Amount>
        <SupplyWeight>105</SupplyWeight>
        <MoneyValue>66</MoneyValue>
        <FullWeightPopulationCount>850</FullWeightPopulationCount>
        <NoWeightPopulationCount>849</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>132754</Product>
        <SupplyWeight>75</SupplyWeight>
        <MoneyValue>60</MoneyValue>
        <FullWeightPopulationCount>1500</FullWeightPopulationCount>
        <NoWeightPopulationCount>1499</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>132761</Product>
        <SupplyWeight>80</SupplyWeight>
        <MoneyValue>135</MoneyValue>
        <FullWeightPopulationCount>4000</FullWeightPopulationCount>
        <NoWeightPopulationCount>3999</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>1010247</Product>
        <Amount>0.01666667</Amount>
        <HappinessValue>3</HappinessValue>
        <MoneyValue>120</MoneyValue>
        <FullWeightPopulationCount>75</FullWeightPopulationCount>
        <NoWeightPopulationCount>49</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>601485</Product>
        <HappinessValue>3</HappinessValue>
        <MoneyValue>75</MoneyValue>
        <FullWeightPopulationCount>400</FullWeightPopulationCount>
        <NoWeightPopulationCount>324</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>1010250</Product>
        <Amount>0.01666667</Amount>
        <HappinessValue>5</HappinessValue>
        <MoneyValue>255</MoneyValue>
        <FullWeightPopulationCount>1000</FullWeightPopulationCount>
        <NoWeightPopulationCount>749</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000004</Population>
          <MinPopulationAmount>1750</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
      <Item>
        <Product>133185</Product>
        <Amount>0.01666667</Amount>
        <HappinessValue>4</HappinessValue>
        <MoneyValue>90</MoneyValue>
        <FullWeightPopulationCount>1550</FullWeightPopulationCount>
        <NoWeightPopulationCount>1249</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000004</Population>
          <MinPopulationAmount>1750</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
      <Item>
        <Product>134781</Product>
        <HappinessValue>3</HappinessValue>
        <IsOptionalHappinessValue>1</IsOptionalHappinessValue>
        <MoneyValue>65</MoneyValue>
        <NoWeightPopulationCount>600</NoWeightPopulationCount>
        <OptionalInputPopulationUnlock>449</OptionalInputPopulationUnlock>
      </Item>
      <Item>
        <Product>133535</Product>
        <HappinessValue>3</HappinessValue>
        <MoneyValue>75</MoneyValue>
        <FullWeightPopulationCount>650</FullWeightPopulationCount>
        <NoWeightPopulationCount>499</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>355</Product>
        <HappinessValue>3</HappinessValue>
        <IsOptionalHappinessValue>1</IsOptionalHappinessValue>
        <MoneyValue>75</MoneyValue>
        <FullWeightPopulationCount>650</FullWeightPopulationCount>
        <NoWeightPopulationCount>499</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000003</Population>
          <MinPopulationAmount>1000</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
      <Item>
        <Product>134257</Product>
        <HappinessValue>3</HappinessValue>
        <IsOptionalHappinessValue>1</IsOptionalHappinessValue>
        <MoneyValue>75</MoneyValue>
        <FullWeightPopulationCount>1100</FullWeightPopulationCount>
        <NoWeightPopulationCount>899</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000004</Population>
          <MinPopulationAmount>1</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
      <Item>
        <Product>133536</Product>
        <HappinessValue>3</HappinessValue>
        <MoneyValue>135</MoneyValue>
        <FullWeightPopulationCount>1250</FullWeightPopulationCount>
        <NoWeightPopulationCount>999</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000004</Population>
          <MinPopulationAmount>5000</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
      <Item>
        <Product>133532</Product>
        <Amount>0.03333333</Amount>
        <HappinessValue>4</HappinessValue>
        <MoneyValue>205</MoneyValue>
        <FullWeightPopulationCount>2500</FullWeightPopulationCount>
        <NoWeightPopulationCount>1999</NoWeightPopulationCount>
      </Item>
      <Item>
        <Product>137757</Product>
        <HappinessValue>3</HappinessValue>
        <IsOptionalHappinessValue>1</IsOptionalHappinessValue>
        <MoneyValue>135</MoneyValue>
        <FullWeightPopulationCount>1250</FullWeightPopulationCount>
        <NoWeightPopulationCount>999</NoWeightPopulationCount>
        <AdditionalGlobalUnlockRequirement>
          <Population>15000004</Population>
          <MinPopulationAmount>5000</MinPopulationAmount>
        </AdditionalGlobalUnlockRequirement>
      </Item>
    </PopulationInputs>
  </ModOp>
  <!-- # Revert: Unbreak NW Tourism -->
  <!-- Re-add Boxing, Christo -->
  <ModOp GUID = '601379' Type = "addNextSibling" Path = "/Values/PopulationLevel7/PopulationInputs/Item[Product = '133573'][last()]">
		<Item>
			<Product>1440134405</Product> <!-- Boxing --> 
			<SupplyWeight>25</SupplyWeight>
			<MoneyValue>45</MoneyValue>
			<FullWeightPopulationCount>50</FullWeightPopulationCount>
			<NoWeightPopulationCount>49</NoWeightPopulationCount>
			<RequiredToBeBuilding>1440134300</RequiredToBeBuilding>
    </Item>
	</ModOp>
	<ModOp GUID = '601379' Type = "addNextSibling" Path = "/Values/PopulationLevel7/PopulationInputs/Item[Product = '132761'][last()]">
		<Item>
			<Product>1440134406</Product> <!-- Christo monument -->
			<SupplyWeight>80</SupplyWeight>
			<MoneyValue>135</MoneyValue>
			<FullWeightPopulationCount>4000</FullWeightPopulationCount>
			<NoWeightPopulationCount>3999</NoWeightPopulationCount>
			<RequiredToBeBuilding>1440134300</RequiredToBeBuilding>
    </Item>
	</ModOp>
  <!-- # Revert: Unbreak Small Hotels -->
  <!-- Train Stations: add train stations need to small hotels -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='1010213'][last()]">
    <Item>
      <Product>850044</Product>
      <Amount>0.008333333</Amount>
      <SupplyWeight>55</SupplyWeight>
      <MoneyValue>55</MoneyValue>
      <FullWeightPopulationCount>30</FullWeightPopulationCount>
      <NoWeightPopulationCount>29</NoWeightPopulationCount>
      <RequiredToBeBuilding>1500010500</RequiredToBeBuilding>
    </Item>
  </ModOp>
  <!-- NW Tourism compatibility: add theater limited to self -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='133573'][last()]">
    <Item>
      <Product>133573</Product>
      <SupplyWeight>25</SupplyWeight>
      <MoneyValue>45</MoneyValue>
      <FullWeightPopulationCount>50</FullWeightPopulationCount>
      <NoWeightPopulationCount>49</NoWeightPopulationCount>
      <RequiredToBeBuilding>1500010500</RequiredToBeBuilding>
    </Item>
  </ModOp>
  <!-- NW Tourism compatibility: add iron tower limited to self -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='132761'][last()]">
    <Item>
      <Product>132761</Product>
      <SupplyWeight>80</SupplyWeight>
      <MoneyValue>135</MoneyValue>
      <FullWeightPopulationCount>4000</FullWeightPopulationCount>
      <NoWeightPopulationCount>3999</NoWeightPopulationCount>
      <RequiredToBeBuilding>1500010500</RequiredToBeBuilding>
    </Item>
  </ModOp>

  <!-- # Replace Bread with Train Station need -->
  <!-- Disable bread (DONT remove stuff). Needs to be replace to make sure RequiredToBeBuilding is set to 0 in all cases -->
  <ModOp Type="replace" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[(Product='1010213' and not(RequiredToBeBuilding)) or (Product='101213' and RequiredToBeBuilding='601445')]">
    <Item>
      <Product>1010213</Product>
      <Amount>0.008333333</Amount>
      <SupplyWeight>55</SupplyWeight>
      <MoneyValue>55</MoneyValue>
      <FullWeightPopulationCount>30</FullWeightPopulationCount>
      <NoWeightPopulationCount>29</NoWeightPopulationCount>
      <RequiredToBeBuilding>1</RequiredToBeBuilding> <!-- limit to fake GUID to disable -->
    </Item>
  </ModOp>
  <!-- Add train station need to self, vanilla hotels -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='1010213'][last()]">
    <Item>
      <Product>850044</Product>
      <Amount>0.008333333</Amount>
      <SupplyWeight>55</SupplyWeight>
      <MoneyValue>55</MoneyValue>
      <FullWeightPopulationCount>30</FullWeightPopulationCount>
      <NoWeightPopulationCount>29</NoWeightPopulationCount>
      <RequiredToBeBuilding>850113</RequiredToBeBuilding>
    </Item>
    <Item>
      <Product>850044</Product>
      <Amount>0.008333333</Amount>
      <SupplyWeight>55</SupplyWeight>
      <MoneyValue>55</MoneyValue>
      <FullWeightPopulationCount>30</FullWeightPopulationCount>
      <NoWeightPopulationCount>29</NoWeightPopulationCount>
      <RequiredToBeBuilding>601445</RequiredToBeBuilding>
    </Item>
  </ModOp>

  <!-- # Reduce new hotel population -->
  <!-- apply reduction buff -->
  <ModOp Type="add" GUID="850113" Path="/Values">
    <UpgradeList>
      <!-- 
        Use Jakob's small hotel buff for now.
        Should be a unique copy with own GUID when the change is merged into Train Stations mod.
      -->
      <DefaultBuff>1500010501</DefaultBuff>
    </UpgradeList>
  </ModOp>
  <!-- disable investors residence increase buff -->
  <ModOp Type="remove" GUID="850114" Path="/Values/ItemContainer">
  </ModOp>
  <!-- for reference 
    <Asset>
      <Template>TownhallBuff</Template>
      <Values>
        <Standard>
          <GUID>1500010501</GUID>
          <Name>half_pop</Name>
          <IconFilename>data/jakob/ui/icons/icon_3x1.png</IconFilename>
        </Standard>
        <ItemEffect>
          <EffectTargets>
            <Item>
              <GUID>1500010500</GUID>
            </Item>
            <Item>
              <GUID>850113</GUID> <!- - from Train Stations & Hotels - ->
            </Item>
          </EffectTargets>
        </ItemEffect>
        <Text />
        <BuildingUpgrade />
        <Buff />
        <PopulationUpgrade>
          <InputBenefitModifier>
            <Item>
              <Product>133891</Product>
              <AdditionalSupply>-23</AdditionalSupply>
            </Item>
            <Item>
              <Product>1010213</Product>
              <AdditionalSupply>-27</AdditionalSupply>
            </Item>
            <Item>
              <Product>850044</Product> <!- - train station - ->
              <AdditionalSupply>-27</AdditionalSupply>
            </Item>
            <Item>
              <Product>133573</Product>
              <AdditionalSupply>-12</AdditionalSupply>
            </Item>
            <Item>
              <Product>132751</Product>
              <AdditionalSupply>-12</AdditionalSupply>
            </Item>
            <Item>
              <Product>133183</Product>
              <AdditionalSupply>-17</AdditionalSupply>
            </Item>
            <Item>
              <Product>132755</Product>
              <AdditionalSupply>-28</AdditionalSupply>
            </Item>
            <Item>
              <Product>133181</Product>
              <AdditionalSupply>-53</AdditionalSupply>
            </Item>
            <Item>
              <Product>132754</Product>
              <AdditionalSupply>-38</AdditionalSupply>
            </Item>
            <Item>
              <Product>132761</Product>
              <AdditionalSupply>-40</AdditionalSupply>
            </Item>
          </InputBenefitModifier>
        </PopulationUpgrade>
        <CultureUpgrade>
          <HideBuff>1</HideBuff>
        </CultureUpgrade>
      </Values>
    </Asset>
  -->


  <!-- # Mod compatibility (Theater, Iron Tower) -->
  <!-- NW Tourism compatibility: limit theater, iron tower to vanilla hotel -->
  <ModOp Type="add" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[(Product='133573' or Product='132761') and not(RequiredToBeBuilding)]">
    <RequiredToBeBuilding>601445</RequiredToBeBuilding>
  </ModOp>
  <!-- NW Tourism compatibility: add theater limited to self -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='133573'][last()]">
    <Item>
      <Product>133573</Product>
      <SupplyWeight>25</SupplyWeight>
      <MoneyValue>45</MoneyValue>
      <FullWeightPopulationCount>50</FullWeightPopulationCount>
      <NoWeightPopulationCount>49</NoWeightPopulationCount>
      <RequiredToBeBuilding>850113</RequiredToBeBuilding>
    </Item>
  </ModOp>
  <!-- NW Tourism compatibility: add iron tower limited to self -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='132761'][last()]">
    <Item>
      <Product>132761</Product>
      <SupplyWeight>80</SupplyWeight>
      <MoneyValue>135</MoneyValue>
      <FullWeightPopulationCount>4000</FullWeightPopulationCount>
      <NoWeightPopulationCount>3999</NoWeightPopulationCount>
      <RequiredToBeBuilding>850113</RequiredToBeBuilding>
    </Item>
  </ModOp>
  

  <!-- # Mod compatibility (unbreak NW tourism) -->
  <!-- Note: this snippet would go to NW Tourism if we do way 1 -->
  <!-- Train Stations compatibility: limit bread to vanilla hotel (train stations will disable this) -->
  <ModOp Type="add" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[(Product='1010213') and not(RequiredToBeBuilding)]">
    <RequiredToBeBuilding>601445</RequiredToBeBuilding>
  </ModOp>
  <!-- Train Stations compatibility: add bread to NW hotel -->
  <ModOp Type="addNextSibling" GUID="601379" Path="/Values/PopulationLevel7/PopulationInputs/Item[Product='1010213'][last()]">
    <Item>
      <Product>1010213</Product>
      <Amount>0.008333333</Amount>
      <SupplyWeight>55</SupplyWeight>
      <MoneyValue>55</MoneyValue>
      <FullWeightPopulationCount>30</FullWeightPopulationCount>
      <NoWeightPopulationCount>29</NoWeightPopulationCount>
      <RequiredToBeBuilding>1440134300</RequiredToBeBuilding>
    </Item>
  </ModOp>
</ModOps>
